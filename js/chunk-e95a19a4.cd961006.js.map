{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/router/views/products/productEdit.vue","webpack:///src/router/views/products/productEdit.vue","webpack:///./src/router/views/products/productEdit.vue?cd0f","webpack:///./src/router/views/products/productEdit.vue?9242","webpack:///./src/api/graphql/query/category.js","webpack:///./src/api/graphql/mutations/products.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","render","_vm","_c","_self","attrs","title","staticClass","scopedSlots","_u","key","fn","props","activeTabIndex","isLastStep","style","fillButtonStyle","_v","_e","nativeOn","$event","onComplete","_s","loadingProduct","loadingCreate","nextTab","validate","state","$v","form","name","model","value","callback","$$v","$set","expression","price","stock","image","category","categories","sku","on","printBarCode","staticRenderFns","components","Layout","PageHeader","FormWizard","TabContent","WizardButton","data","store","active","id","text","validations","required","numeric","computed","storeComputed","methods","isValid","result","item","updateProduct","idInt","decode_bs64","mutation","variables","product","response","toast","getCategory","query","allCategory","getProduct","formatDataProduct","formatCategorySelect","windowPrint","beforeMount","component","ALL_CATEGORY","gql","DELETE_PRODUCT","CREATE_PRODUCT","UPDATE_PRODUCT","GET_PRODUCT","PROPER_FUNCTION_NAME","PROPER","fails","whitespaces","non","module","exports","METHOD_NAME"],"mappings":"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","file":"js/chunk-e95a19a4.cd961006.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('layout',[_c('page-header',{attrs:{\"title\":_vm.title}}),_c('div',[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('b-card',{staticClass:\"mb-2\"},[_c('b-card-text',[_c('form-wizard',{scopedSlots:_vm._u([{key:\"footer\",fn:function(props){return [_c('div',{staticClass:\"wizard-footer-left\"},[(props.activeTabIndex > 1 && !props.isLastStep)?_c('wizard-button',{style:(props.fillButtonStyle)},[_vm._v(\"Anterior\")]):_vm._e()],1),_c('div',{staticClass:\"wizard-footer-right\"},[(!props.isLastStep)?_c('wizard-button',{staticClass:\"wizard-footer-right\",style:(props.fillButtonStyle),attrs:{\"disabled\":_vm.loadingProduct || _vm.loadingCreate},nativeOn:{\"click\":function($event){return props.nextTab()}}},[(_vm.loadingCreate)?[_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\"}}),_vm._v(\" Cargando... \")]:[_vm._v(\" Siguiente \")]],2):_c('wizard-button',{staticClass:\"wizard-footer-right finish-button\",style:(props.fillButtonStyle),nativeOn:{\"click\":function($event){return _vm.onComplete()}}},[_vm._v(_vm._s(props.isLastStep ? 'Finalizar' : 'Siguiente'))])],1)]}}])},[_c('tab-content',{attrs:{\"title\":\"Editar Producto\",\"before-change\":() => _vm.validate()}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Nombre\",\"invalid-feedback\":\"Este campo es requerido\"}},[(_vm.loadingProduct)?[_c('b-skeleton',{attrs:{\"type\":\"input\"}})]:[_c('b-form-input',{attrs:{\"state\":_vm.state(_vm.$v.form.name),\"disabled\":_vm.loadingCreate},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.name\"}})]],2)],1),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Precio\",\"invalid-feedback\":\"Este campo es requerido\"}},[(_vm.loadingProduct)?[_c('b-skeleton',{attrs:{\"type\":\"input\"}})]:[_c('b-form-input',{attrs:{\"state\":_vm.state(_vm.$v.form.price),\"type\":\"number\",\"disabled\":_vm.loadingCreate},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.price\"}})]],2)],1),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Unidades\",\"invalid-feedback\":\"Este campo es requerido\"}},[(_vm.loadingProduct)?[_c('b-skeleton',{attrs:{\"type\":\"input\"}})]:[_c('b-form-input',{attrs:{\"state\":_vm.state(_vm.$v.form.stock),\"type\":\"number\",\"disabled\":_vm.loadingCreate},model:{value:(_vm.form.stock),callback:function ($$v) {_vm.$set(_vm.form, \"stock\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.stock\"}})]],2)],1),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Imagen\",\"invalid-feedback\":\"Este campo es requerido\"}},[(_vm.loadingProduct)?[_c('b-skeleton',{attrs:{\"type\":\"input\"}})]:[_c('b-form-file',{staticClass:\"form-control\",attrs:{\"plain\":\"\",\"accept\":\"image/*\",\"disabled\":_vm.loadingCreate},model:{value:(_vm.form.image),callback:function ($$v) {_vm.$set(_vm.form, \"image\", $$v)},expression:\"form.image\"}})]],2)],1),_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-form-group',{attrs:{\"label\":\"Categoria\",\"invalid-feedback\":\"Este campo es requerido\"}},[(_vm.loadingProduct)?[_c('b-skeleton',{attrs:{\"type\":\"input\"}})]:[_c('b-form-select',{staticClass:\"form-control\",attrs:{\"state\":_vm.state(_vm.$v.form.category),\"options\":_vm.categories,\"disabled\":_vm.loadingCreate},model:{value:(_vm.form.category),callback:function ($$v) {_vm.$set(_vm.form, \"category\", $$v)},expression:\"form.category\"}})]],2)],1)],1)],1),_c('tab-content',{attrs:{\"title\":\"Código de barras\"}},[_c('div',{staticClass:\"text-center\",attrs:{\"id\":\"bar-code\"}},[_c('barcode',{attrs:{\"value\":_vm.sku,\"format\":\"\",\"width\":\"1\"}})],1),_c('div',{staticClass:\"text-center\"},[_c('b-button',{on:{\"click\":function($event){return _vm.printBarCode()}}},[_vm._v(\"Descargar el código de barras\")])],1)])],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<layout>  \n  <page-header :title=\"title\"></page-header>\n  <div>\n    <b-col md=\"12\">\n      <b-card\n        class=\"mb-2\"\n      >\n        <b-card-text>\n          <form-wizard>\n            <tab-content title=\"Editar Producto\" :before-change=\"() => validate()\">\n              <b-row>\n                <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Nombre\"\n                    invalid-feedback=\"Este campo es requerido\"\n                  >\n                  <template v-if=\"loadingProduct\">\n                    <b-skeleton type=\"input\"></b-skeleton>\n                  </template>\n                  <template v-else>\n                    <b-form-input\n                      v-model.trim=\"form.name\"\n                      :state=\"state($v.form.name)\"\n                      :disabled=\"loadingCreate\"\n                    >\n                    </b-form-input>\n                  </template>\n                  </b-form-group>\n                </b-col>\n                <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Precio\"\n                    invalid-feedback=\"Este campo es requerido\"\n                  >\n                    <template v-if=\"loadingProduct\">\n                      <b-skeleton type=\"input\"></b-skeleton>\n                    </template>\n                    <template v-else>\n                      <b-form-input\n                        v-model.trim=\"form.price\"\n                        :state=\"state($v.form.price)\"\n                        type=\"number\"\n                        :disabled=\"loadingCreate\"\n                      >\n                      </b-form-input>\n                    </template>\n                  </b-form-group>\n                </b-col>\n                <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Unidades\"\n                    invalid-feedback=\"Este campo es requerido\"\n                  >\n                    <template v-if=\"loadingProduct\">\n                      <b-skeleton type=\"input\"></b-skeleton>\n                    </template>\n                    <template v-else>\n                      <b-form-input\n                        v-model.trim=\"form.stock\"\n                        :state=\"state($v.form.stock)\"\n                        type=\"number\"\n                        :disabled=\"loadingCreate\"\n                      >\n                      </b-form-input>\n                    </template>\n                  </b-form-group>\n                </b-col>\n                <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Imagen\"\n                    invalid-feedback=\"Este campo es requerido\"\n                  >\n                    <template v-if=\"loadingProduct\">\n                      <b-skeleton type=\"input\"></b-skeleton>\n                    </template>\n                    <template v-else>\n                      <b-form-file\n                        plain\n                        class=\"form-control\"\n                        v-model=\"form.image\"\n                        accept=\"image/*\"\n                        :disabled=\"loadingCreate\"\n                      >\n                      </b-form-file>\n                    </template>\n                  </b-form-group>\n                </b-col>\n                <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Categoria\"\n                    invalid-feedback=\"Este campo es requerido\"\n                  >\n                  <template v-if=\"loadingProduct\">\n                    <b-skeleton type=\"input\"></b-skeleton>\n                  </template>\n                  <template v-else>\n                    <b-form-select\n                      class=\"form-control\"\n                      v-model=\"form.category\"\n                      :state=\"state($v.form.category)\"\n                      :options=\"categories\"\n                      :disabled=\"loadingCreate\"\n                    >\n                    </b-form-select>\n                  </template>\n                  </b-form-group>\n                </b-col>\n              </b-row>\n            </tab-content>\n            <tab-content title=\"Código de barras\">\n              <div class=\"text-center\" id=\"bar-code\">\n                <barcode :value=\"sku\" format=\"\" width=\"1\">\n                </barcode>\n              </div>\n              <div class=\"text-center\">\n                <b-button @click=\"printBarCode()\">Descargar el código de barras</b-button>\n              </div>\n            </tab-content>\n            <template slot=\"footer\" slot-scope=\"props\">\n              <div class=wizard-footer-left>\n                <wizard-button  v-if=\"props.activeTabIndex > 1 && !props.isLastStep\" :style=\"props.fillButtonStyle\">Anterior</wizard-button>\n              </div>\n              <div class=\"wizard-footer-right\">\n                <wizard-button \n                  v-if=\"!props.isLastStep\"\n                  @click.native=\"props.nextTab()\" \n                  class=\"wizard-footer-right\" \n                  :style=\"props.fillButtonStyle\"\n                  :disabled=\"loadingProduct || loadingCreate\"\n                >\n                  <template v-if=\"loadingCreate\">\n                    <b-spinner small type=\"grow\"></b-spinner>\n                    Cargando...\n                  </template>\n                  <template v-else>\n                    Siguiente\n                  </template>\n                </wizard-button>\n                <wizard-button v-else @click.native=\"onComplete()\" class=\"wizard-footer-right finish-button\" :style=\"props.fillButtonStyle\">{{props.isLastStep ? 'Finalizar' : 'Siguiente'}}</wizard-button>\n              </div>\n            </template>\n          </form-wizard>\n        </b-card-text>\n      </b-card>\n    </b-col>\n  </div>\n</layout>\n</template>\n<script>\nimport Layout from \"../../layouts/main\";\nimport PageHeader from \"@/components/page-header\";\nimport { required, numeric } from 'vuelidate/lib/validators'\nimport { FormWizard, TabContent, WizardButton } from 'vue-form-wizard'\nimport { storeComputed } from '@/state/helpers'\nimport { UPDATE_PRODUCT, GET_PRODUCT } from '@/api/graphql/mutations/products'\nimport { ALL_CATEGORY } from '@/api/graphql/query/category'\nimport { toast } from '@/utils/alerts'\nimport { decode_bs64 } from '@/utils/general'\nimport VueBarCode from 'vue-barcode'\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css'\n\nexport default {\n  components:{\n    Layout,\n    PageHeader,\n    FormWizard,\n    TabContent,\n    'barcode': VueBarCode,\n    WizardButton\n  },\n  data(){\n    return{\n      title: 'Productos',\n      form: {\n        name: null,\n        price: null,\n        image: null,\n        category: null,\n        store: null,\n        active: true,\n        stock: null\n      },\n      id: null,\n      sku: null,\n      categories: [\n        { value: null, text: 'Selecciona una opción de la lista' },\n      ],\n      loadingProduct: true,\n      loadingCreate: false,\n    }\n  },\n  validations:{\n    form: {\n      name: { required },\n      price: { required, numeric },\n      category: { required },\n      stock: { required, numeric}\n    }\n  },\n  computed: {\n    ...storeComputed,\n  },\n  methods: {\n    async validate(){\n      this.$v.form.$touch()\n      const isValid = !this.$v.form.$invalid\n      this.form.store = this.idCurrentStore\n      if (isValid === true){\n        const result = await this.updateProduct()\n        return result\n      }else{\n        return false\n      }\n    },\n    state(item){\n      const { $dirty, $error } = item\n      return $dirty ? !$error: null\n    },\n    onComplete(){\n      this.$router.push({\n        name: 'list-products'\n      })\n    },\n    async updateProduct(){\n      this.loadingCreate = true\n      const idInt = decode_bs64( this.id ).split(':')[1]\n      try {\n        const response = await this.$apollo.mutate({\n          mutation: UPDATE_PRODUCT,\n          variables: {\n            product: {\n              ...this.form\n            },\n            id: idInt\n          }\n        })\n        const { updateProduct } = response.data\n        this.loadingCreate = false\n        if (updateProduct !== null){\n          this.sku = updateProduct.product.sku\n          return true \n        }else{\n          toast('error', 'No se pudo guardar el producto.')\n          return false\n        }\n      } catch (error) {\n        this.loadingCreate = false\n        toast('error', 'No se pudo guardar el producto.')\n      }\n    },\n    async getCategory(){\n      try {\n        const response = await this.$apollo.query({\n          query: ALL_CATEGORY\n        })\n        const { allCategory } = response.data\n        if (allCategory !== null){\n          this.formatCategorySelect(allCategory)\n        }else{\n          toast('error', 'No se pudo recuperar las categorias.')\n        }\n      } catch (error) {\n        toast('error', 'No se pudo recuperar las categorias.')\n      }\n    },\n    async getProduct(){\n        try {\n            const response = await this.$apollo.query({\n              query: GET_PRODUCT,\n              variables: {\n                sku: this.$route.params.sku\n              }\n            })\n            const { getProduct } = response.data\n            if (getProduct !== null){\n              this.id = getProduct.id\n              this.form = this.formatDataProduct(getProduct)\n              this.loadingProduct = false\n            }\n            else{\n              this.loadingProduct = false\n              toast('error', 'No se logró recuperar la información del producto.')\n            }\n        } catch (error) {\n            this.loadingProduct = false\n            toast('error', 'No se logró recuperar la información del producto.')\n        }\n    },\n    formatDataProduct(product){\n      return {\n        name: product.name,\n        price: parseInt(product.price),\n        category: product.category.id,\n        store: product.store.id,\n        active: product.active,\n        stock: parseInt(product.stock)\n      }\n    },\n    formatCategorySelect(data){\n      for (let item of data){\n        const temp = {\n          value: item.id,\n          text: item.name\n        }\n        this.categories.push(temp)\n      }\n    },\n    printBarCode(){\n      const barCode = document.getElementById('bar-code')\n      const windowPrint = window.open()\n      windowPrint.document.write( barCode.innerHTML )\n      windowPrint.document.close()\n      windowPrint.print()\n      windowPrint.close()\n    }\n  },\n  beforeMount(){\n    this.getProduct()\n    this.getCategory()\n  }\n}\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./productEdit.vue?vue&type=template&id=48c01296&\"\nimport script from \"./productEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./productEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import gql from 'graphql-tag'\n\nconst ALL_CATEGORY = gql`query allCategories{\n    allCategory{\n        name\n        id\n    }    \n}`\n\nexport {\n    ALL_CATEGORY\n}","import gql from 'graphql-tag'\n\nconst DELETE_PRODUCT = gql`mutation deleteProduct($id: ID!){\n    deleteProduct(id: $id){\n        success\n    }\n}`\n\nconst CREATE_PRODUCT = gql`mutation createProduct($product: ProductCreateInput!){\n    createProduct(product: $product){\n        product{\n            id \n            name \n            image \n            sku\n        }\n    }\n}\n`\nconst UPDATE_PRODUCT = gql`mutation updateProduct($product: ProductEditInput!, $id: ID!){\n    updateProduct(product: $product, id: $id){\n        product{\n            updated\n            name\n            sku\n            id\n        }\n    }\n}`\n\nconst GET_PRODUCT = gql`query getProduct($sku: String!){\n    getProduct(sku: $sku){\n        name\n        id\n        price\n        category{\n            id\n        }\n        store{\n            id\n        }\n        active\n        stock\n    }\n}`\n\nexport {\n    DELETE_PRODUCT,\n    CREATE_PRODUCT,\n    UPDATE_PRODUCT,\n    GET_PRODUCT\n}","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n"],"sourceRoot":""}