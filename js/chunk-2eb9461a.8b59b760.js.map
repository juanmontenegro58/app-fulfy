{"version":3,"sources":["webpack:///./src/api/graphql/query/guideLocal.js","webpack:///./src/router/views/guideLocal/MasivePrint.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///src/router/views/guideLocal/MasivePrint.vue","webpack:///./src/router/views/guideLocal/MasivePrint.vue?4a94","webpack:///./src/router/views/guideLocal/MasivePrint.vue?5d06","webpack:///./src/assets/images/print.png","webpack:///./src/components/widgets/guide.vue","webpack:///src/components/widgets/guide.vue","webpack:///./src/components/widgets/guide.vue?3ecb","webpack:///./src/components/widgets/guide.vue?1eeb","webpack:///./src/components/widgets/guide.vue?49e3","webpack:///./src/router/views/guideLocal/MasivePrint.vue?cde8"],"names":["LIST_GUIDES_LOCAL","gql","GET_GUIDE","LIST_GUIDES_LOCAL_DISPACTH","render","_vm","this","_c","_self","attrs","title","_v","staticClass","maxDate","model","value","startDate","callback","$$v","expression","minEndDate","endDate","on","$event","getGuidesLocal","directives","name","rawName","clearDates","preventDefault","searchGuide","guidesSelectToPrint","length","formatDataToPrint","clearData","_e","loadingGuides","bordered","striped","lengthSelectGuides","ref","guidesTable","fields","onRowSelected","scopedSlots","_u","key","fn","item","_s","getStatusGuideLocal","status","modifiers","searchGuideLocal","guideNumber","rowSelected","require","hasNextPage","loadingMore","guideLocalSelect","created","_l","products","index","node","product","quantity","formatPriceString","price","staticStyle","productObservations","staticRenderFns","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","components","PageHeader","Layout","barcode","Guide","data","label","guidesDetail","endCursor","dataApi","guides","copyGuidesSelected","limitGuidesToPrint","watch","methods","isSearch","query","variables","after","createdGte","createdLte","response","guidesLocal","toast","formatDataTable","store","user","sumQuantityProducts","count","statusAbreviate","ENT","CAN","CRE","DES","ANU","items","productsArray","guide","destinatario","phoneNumber","address","city","customerAnnotations","remitente","email","description","selectRowTable","table","computed","beforeMount","component","module","exports","onProgress","hasDownloaded","slot","textDescription","calculateTotalGuide","creating","generateReport","props","type","default","VueHtml2pdf","success","event","total","text","markPrintedGuides","mutation","markPrintedGuide","getArrayGuides"],"mappings":"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iD,iBAEA,CACAjD,cACAiD,wBAEA,CACAjD,cACAiD,mBAGAtD,eACAuD,gBACArC,sBACAsC,eACAnE,iBACAd,eACAK,aACAR,UACAO,gBACA8E,WACAnE,uBACAoE,UACAC,sBACAC,wBAGAC,OACAxE,wBACA,SACA,oBACA,oBACA,sBACA,wBAGAd,sBACA,8BACA,6BAEA,+BACA,WACAA,gBACAA,aACAA,eAEA,oBAGAuF,SACA/E,eADA,WACA,gBAAI,EAAJ,iKAAAgF,kCACA,kFACA,QACA,mBACA,iBACA,kBAEA,iBAPA,kBASA,iBACAC,aACAC,WACAC,kBACArD,0BACAH,aACAyD,WACA,8CACAC,wDAjBA,UASAC,EATA,OAoBAC,EAAAD,OAAAC,YACAA,SArBA,wBAsBA,mBACA,iBAvBA,kBAwBAC,+DAxBA,eA0BAlB,EAAAiB,QACA,qCACA,iCACA,qBACA,uCACA,mBACA,iBACA,mBAjCA,mBAkCA,GAlCA,4CAoCA,mBACA,iBArCA,kBAsCAC,6DAtCA,6DAyCAC,gBA1CA,SA0CAnB,GAAA,IAAI,EAAJ,iBACAA,GADA,IACA,0CACA,GACAxC,+BACA4D,wBACA/D,qBACAW,kCACAd,0CAEAmE,qFACAvD,2CAEA,GACAN,+BACAQ,kDACAF,2CAEA,yBACA,2BAlBA,gCAqBAwD,oBA/DA,SA+DAtB,GACA,IADI,EACJ,IADA,iBAEAA,GAFA,IAEA,0CACAuB,oBAHA,8BAKA,UAEAhE,iBAtEA,SAsEAC,GACA,mCACA,yCAEA,QACA,6CAGAa,kBA9EA,SA8EApD,GACA,0BAEAa,WAjFA,WAkFA,oBACA,kBACA,oBACA,oBACA,sBACA,sBACA,uBAEAsB,oBA1FA,SA0FAoE,GACA,OACAC,gBACAC,gBACAC,aACAC,kBACAC,eAEA,aAEAhF,cApGA,SAoGAiF,GAAA,WACA,8CACA,mFACA,OACAtE,0BACAS,cAIA9B,kBA7GA,WA6GA,IAAI,EAAJ,OACA,KACA,cACA,IADI,EACJ,KADA,iBAEA6B,GAFA,IAEA,0CACA,GACApC,yBACA0C,mBACAF,yBACAI,gDAEAuD,WATA,8BAWA,U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","file":"js/chunk-2eb9461a.8b59b760.js","sourcesContent":["import gql from 'graphql-tag'\n\nconst LIST_GUIDES_LOCAL = gql`query getGuideLocal($after: String, $createdGte: DateTime, $createdLte: DateTime, $guideNumber: String, $status: String, $name: String){\n    guidesLocal(after: $after, created_Date_Gte: $createdGte, created_Date_Lte: $createdLte, guideNumber_Icontains: $guideNumber, status_Iexact: $status, name_Icontains: $name){\n        pageInfo{\n            hasNextPage\n            endCursor\n            startCursor\n        }\n        edges{\n            cursor\n            node{\n                id\n                address\n                phoneNumber\n                city\n                name\n                customerAnnotations\n                guideNumber\n                store{\n                    name\n                    email\n                    phoneNumber\n                }\n                userCreated{\n                    firstName\n                    lastName\n                }\n                status\n                created\n                guidelocalproductthroughSet{\n                    edges{\n                        node{\n                            quantity\n                            product{\n                                name\n                            }\n                            price\n                            productObservations\n                        }\n                    }\n                }\n            }\n        }\n    }\n}`\n\nconst GET_GUIDE = gql`query getGuideLocal($after: String, $createdGte: DateTime, $createdLte: DateTime, $guideNumber: String, $status: String, $name: String){\n    guidesLocal(after: $after, created_Date_Gte: $createdGte, created_Date_Lte: $createdLte, guideNumber_Icontains: $guideNumber, status_Iexact: $status, name_Icontains: $name){\n        pageInfo{\n            hasNextPage\n        }\n        edges{\n            cursor\n            node{\n                guideNumber\n                guidelocalproductthroughSet{\n                    edges{\n                        node{\n                            quantity\n                            product{\n                                name\n                                sku\n                                id\n                            }\n                            price\n                            productObservations\n                        }\n                    }\n                }\n            }\n        }\n    }\n}`\n\nconst LIST_GUIDES_LOCAL_DISPACTH = gql`query getGuideLocal($createdGte: DateTime, $createdLte: DateTime, $guideNumber: String,\n    $status: String, $name: String){\n        guidesLocalDispatch(created_Date_Gte: $createdGte, created_Date_Lte: $createdLte, status_Iexact: $status, guideNumber_Icontains: $guideNumber, name_Icontains: $name){\n              pageInfo{\n                hasNextPage\n                endCursor\n                startCursor\n            }\n            edges{\n                cursor\n                node{\n                    id\n                    address\n                    city\n                    name\n                    customerAnnotations\n                    guideNumber\n                    phoneNumber\n                    store{\n                        name\n                        email\n                        phoneNumber\n                    }\n                    userCreated{\n                        firstName\n                        lastName\n                    }\n                    status\n                    created\n                    guidelocalproductthroughSet{\n                        edges{\n                            node{\n                                quantity\n                                product{\n                                    name\n                                    sku\n                                }\n                                price\n                                productObservations\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }`\n\nexport {\n    LIST_GUIDES_LOCAL,\n    GET_GUIDE,\n    LIST_GUIDES_LOCAL_DISPACTH\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('layout',[_c('page-header',{attrs:{\"title\":_vm.title}}),_c('b-alert',{attrs:{\"show\":\"\"}},[_vm._v(\"La generación del documento con múltiples guías cambiará el estado a \"),_c('strong',[_vm._v(\"Impreso\")]),_vm._v(\", verifique antes de generarla.\")]),_c('b-card',[_c('b-card-text',[_c('b-row',[_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{staticClass:\"mb-2\"},[_c('b-form-datepicker',{attrs:{\"placeholder\":\"Fecha Inicial\",\"max\":_vm.maxDate},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{staticClass:\"mb-2\"},[_c('b-form-datepicker',{attrs:{\"placeholder\":\"Fecha Final\",\"max\":_vm.maxDate,\"min\":_vm.minEndDate},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1),_c('b-col',{attrs:{\"md\":\"1\"}},[_c('b-button',{attrs:{\"disabled\":_vm.startDate !== null && _vm.endDate !== null ? false : true,\"variant\":\"success\"},on:{\"click\":function($event){return _vm.getGuidesLocal(true)}}},[_vm._v(\" Enviar \")])],1),_c('b-col',{attrs:{\"md\":\"1\"}},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.startDate && _vm.endDate),expression:\"startDate && endDate\"}],attrs:{\"variant\":\"info\"},on:{\"click\":function($event){return _vm.clearDates()}}},[_vm._v(\" Limpiar \")])],1)],1),_c('b-row',[_c('b-col',{attrs:{\"lg\":\"4\",\"md\":\"4\"}},[_c('b-form',{staticClass:\"mb-3\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('b-form-group',[_c('b-input-group',[_c('b-form-input',{attrs:{\"id\":\"input-1\",\"type\":\"text\",\"placeholder\":\"Buscar por número de guía\",\"required\":\"\"},model:{value:(_vm.searchGuide),callback:function ($$v) {_vm.searchGuide=$$v},expression:\"searchGuide\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"type\":\"submit\",\"disabled\":!_vm.searchGuide,\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.getGuidesLocal(true)}}},[_vm._v(\"Buscar\")])],1)],1)],1)],1)],1),_c('b-col',{attrs:{\"md\":\"2\",\"offset-md\":\"6\"}},[(_vm.guidesSelectToPrint.length)?_c('guide',{attrs:{\"guides\":_vm.formatDataToPrint()},on:{\"success\":_vm.clearData}}):_vm._e()],1)],1),(_vm.loadingGuides)?[_c('b-skeleton-table',{attrs:{\"rows\":10,\"columns\":6,\"table-props\":{ bordered: true, striped: true }}})]:[(_vm.lengthSelectGuides)?[_c('div',{staticClass:\"table-responsive\"},[_c('b-table',{ref:\"selectableTable\",attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.guidesTable,\"fields\":_vm.fields,\"responsive\":\"sm\",\"selectable\":\"\",\"select-mode\":\"multi\"},on:{\"row-selected\":_vm.onRowSelected},scopedSlots:_vm._u([{key:\"cell(status)\",fn:function({ item }){return [_vm._v(\" \"+_vm._s(_vm.getStatusGuideLocal(item.status))+\" \")]}},{key:\"cell(actions)\",fn:function({ item }){return [_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-lg\",modifiers:{\"modal-lg\":true}}],attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.searchGuideLocal(item.guideNumber)}}},[_c('i',{staticClass:\"mdi mdi-eye\"})])]}},{key:\"cell(selected)\",fn:function({ rowSelected }){return [(rowSelected)?[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"✓\")]),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Selected\")])]:[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\" \")]),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Not selected\")])]]}}],null,false,3806408745)})],1)]:[_c('div',{staticClass:\"text-center\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":require(\"@/assets/images/print.png\"),\"alt\":\"...\",\"width\":\"300px\"}}),_c('p',[_vm._v(\"Has superado el limite de guías, procede a imprimir las que se encuentran seleccionadas.\")])])]]],2),(_vm.hasNextPage && _vm.lengthSelectGuides)?_c('div',{staticClass:\"text-center mt-2\"},[_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"primary\",\"disabled\":_vm.loadingMore},on:{\"click\":function($event){return _vm.getGuidesLocal()}}},[(_vm.loadingMore)?[_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\"}}),_vm._v(\" Cargando... \")]:[_vm._v(\" Ver más \")]],2)],1):_vm._e()],1),(_vm.guideLocalSelect)?_c('b-modal',{attrs:{\"id\":\"modal-lg\",\"size\":\"lg\",\"title\":`Guía Número ${_vm.guideLocalSelect.guideNumber}`,\"no-close-on-backdrop\":true,\"no-close-on-esc\":true,\"ok-only\":\"\"}},[_c('p',{staticClass:\"text_right\"},[_vm._v(_vm._s(_vm.guideLocalSelect.created))]),_c('div',{staticClass:\"text-center\"},[_c('barcode',{attrs:{\"value\":_vm.guideLocalSelect.guideNumber,\"display-value\":false,\"format\":\"\",\"width\":\"1\",\"height\":\"60\"}})],1),_c('b-row',_vm._l((_vm.guideLocalSelect.products),function(item,index){return _c('div',{key:index,staticClass:\"col-md-6\"},[_c('b-card',[_c('b-card-text',[_c('strong',[_vm._v(_vm._s(item.node.product.name)+\":\")]),_vm._v(\" \"+_vm._s(item.node.quantity)+\" uds. ($\"+_vm._s(_vm.formatPriceString(item.node.price))+\") \"),_c('p',{staticStyle:{\"font-size\":\"x-small\"}},[_vm._v(\" \"+_vm._s(item.node.productObservations)+\" \")])])],1)],1)}),0)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","<template>\n  <layout>\n    <page-header :title=\"title\"></page-header>\n    <b-alert show>La generación del documento con múltiples guías cambiará el estado a <strong>Impreso</strong>, verifique antes de generarla.</b-alert>\n    <b-card>\n      <b-card-text>\n        <b-row>\n          <b-col md=\"4\">\n            <b-form-group class=\"mb-2\">\n              <b-form-datepicker\n                v-model=\"startDate\"\n                placeholder=\"Fecha Inicial\"\n                :max=\"maxDate\"\n              >\n              </b-form-datepicker>\n            </b-form-group>\n          </b-col>\n          <b-col md=\"4\">\n            <b-form-group class=\"mb-2\">\n              <b-form-datepicker\n                v-model=\"endDate\"\n                placeholder=\"Fecha Final\"\n                :max=\"maxDate\"\n                :min=\"minEndDate\"\n              >\n              </b-form-datepicker>\n            </b-form-group>\n          </b-col>\n          <b-col md=\"1\">\n            <b-button\n              :disabled=\"startDate !== null && endDate !== null ? false : true\"\n              @click=\"getGuidesLocal(true)\"\n              variant=\"success\"\n            >\n              Enviar\n            </b-button>\n          </b-col>\n          <b-col md=\"1\">\n            <b-button\n              v-show=\"startDate && endDate\"\n              @click=\"clearDates()\"\n              variant=\"info\"\n            >\n              Limpiar\n            </b-button>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-col lg=\"4\" md=\"4\">\n            <b-form @submit.prevent class=\"mb-3\">\n              <b-form-group>\n                <b-input-group>\n                  <b-form-input\n                    id=\"input-1\"\n                    v-model=\"searchGuide\"\n                    type=\"text\"\n                    placeholder=\"Buscar por número de guía\"\n                    required\n                  ></b-form-input>\n                  <b-input-group-append>\n                    <b-button\n                      type=\"submit\"\n                      :disabled=\"!searchGuide\"\n                      @click=\"getGuidesLocal(true)\"\n                      variant=\"warning\"\n                      >Buscar</b-button\n                    >\n                  </b-input-group-append>\n                </b-input-group>\n              </b-form-group>\n            </b-form>\n          </b-col>\n          <b-col md=\"2\" offset-md=\"6\">\n            <guide \n              :guides=\"formatDataToPrint()\" \n              v-if=\"guidesSelectToPrint.length\"\n              @success=\"clearData\"\n            ></guide>\n          </b-col>\n        </b-row>\n        <template v-if=\"loadingGuides\">\n          <b-skeleton-table\n            :rows=\"10\"\n            :columns=\"6\"\n            :table-props=\"{ bordered: true, striped: true }\"\n          ></b-skeleton-table>\n        </template>\n        <template v-else>\n          <template v-if=\"lengthSelectGuides\">\n            <div class=\"table-responsive\">\n              <b-table\n                striped\n                hover\n                :items=\"guidesTable\"\n                :fields=\"fields\"\n                responsive=\"sm\"\n                selectable\n                select-mode=\"multi\"\n                @row-selected=\"onRowSelected\"\n                ref=\"selectableTable\"\n              >\n                <template v-slot:cell(status)=\"{ item }\">\n                  {{ getStatusGuideLocal(item.status) }}\n                </template>\n                <template v-slot:cell(actions)=\"{ item }\">\n                  <b-button\n                    @click=\"searchGuideLocal(item.guideNumber)\"\n                    v-b-modal.modal-lg\n                    variant=\"primary\"\n                    size=\"sm\"\n                  >\n                    <i class=\"mdi mdi-eye\"></i>\n                  </b-button>\n                </template>\n                <template #cell(selected)=\"{ rowSelected }\">\n                  <template v-if=\"rowSelected\">\n                    <span aria-hidden=\"true\">&check;</span>\n                    <span class=\"sr-only\">Selected</span>\n                  </template>\n                  <template v-else>\n                    <span aria-hidden=\"true\">&nbsp;</span>\n                    <span class=\"sr-only\">Not selected</span>\n                  </template>\n                </template>\n              </b-table>\n            </div>\n          </template>\n          <template v-else>\n            <div class=\"text-center\">\n              <img class=\"img-fluid\" src=\"@/assets/images/print.png\" alt=\"...\" width=\"300px\"/>\n              <p>Has superado el limite de guías, procede a imprimir las que se encuentran seleccionadas.</p>\n            </div>\n          </template>\n        </template>\n      </b-card-text>\n      <div class=\"text-center mt-2\" v-if=\"hasNextPage && lengthSelectGuides\">\n        <b-button\n          block\n          @click=\"getGuidesLocal()\"\n          variant=\"primary\"\n          :disabled=\"loadingMore\"\n        >\n          <template v-if=\"loadingMore\">\n            <b-spinner small type=\"grow\"></b-spinner>\n            Cargando...\n          </template>\n          <template v-else> Ver más </template>\n        </b-button>\n      </div>\n    </b-card>\n    <b-modal\n      v-if=\"guideLocalSelect\"\n      id=\"modal-lg\"\n      size=\"lg\"\n      :title=\"`Guía Número ${guideLocalSelect.guideNumber}`\"\n      :no-close-on-backdrop=\"true\"\n      :no-close-on-esc=\"true\"\n      ok-only\n    >\n      <p class=\"text_right\">{{ guideLocalSelect.created }}</p>\n      <div class=\"text-center\">\n        <barcode\n          :value=\"guideLocalSelect.guideNumber\"\n          :display-value=\"false\"\n          format=\"\"\n          width=\"1\"\n          height=\"60\"\n        ></barcode>\n      </div>\n      <b-row>\n        <div\n          class=\"col-md-6\"\n          v-for=\"(item, index) in guideLocalSelect.products\"\n          :key=\"index\"\n        >\n          <b-card>\n            <b-card-text>\n              <strong>{{ item.node.product.name }}:</strong>\n              {{ item.node.quantity }} uds. (${{\n                formatPriceString(item.node.price)\n              }})\n              <p style=\"font-size: x-small\">\n                {{ item.node.productObservations }}\n              </p>\n            </b-card-text>\n          </b-card>\n        </div>\n      </b-row>\n    </b-modal>\n  </layout>\n</template>\n<script>\nimport Layout from \"@/router/layouts/main\";\nimport PageHeader from \"@/components/page-header\";\nimport { LIST_GUIDES_LOCAL } from \"@/api/graphql/query/guideLocal\";\nimport { toast } from \"@/utils/alerts\";\nimport { formatDate, formatPrice, formatDateShort } from \"@/utils/general\";\nimport VueBarCode from \"vue-barcode\";\nimport Guide from \"@/components/widgets/guide\";\n\nexport default {\n  name: \"MasivePrint\",\n  components: {\n    PageHeader,\n    Layout,\n    barcode: VueBarCode,\n    Guide,\n  },\n  data() {\n    const now = new Date();\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n    return {\n      title: \"Impresión masiva guías locales\",\n      loadingGuides: true,\n      hasNextPage: false,\n      loadingMore: false,\n      fields: [\n        {\n          key: \"selected\",\n          label: \"✅\",\n        },\n        {\n          key: \"guideNumber\",\n          label: \"Guía\",\n        },\n        {\n          key: \"status\",\n          label: \"Estado\",\n        },\n        {\n          key: \"store\",\n          label: \"Tienda\",\n        },\n        {\n          key: \"products\",\n          label: \"Productos\",\n        },\n        {\n          key: \"user\",\n          label: \"Usuario\",\n        },\n        {\n          key: \"created\",\n          label: \"Fecha creación\",\n        },\n        {\n          key: \"actions\",\n          label: \"Acciones\",\n        },\n      ],\n      guidesTable: [],\n      guidesDetail: [],\n      guideLocalSelect: null,\n      endCursor: null,\n      searchGuide: null,\n      startDate: null,\n      endDate: null,\n      maxDate: today,\n      minEndDate: null,\n      dataApi: [],\n      guidesSelectToPrint: [], /* Números de guías seleccionados para la impresión */\n      guides: [], /* Guías con toda la información y estructura requerida para imprimir */\n      copyGuidesSelected: [], /* Guarda una copia de los números de guías seleccionados */\n      limitGuidesToPrint: 50\n    };\n  },\n  watch: {\n    searchGuide: function (newValue) {\n      if (newValue === \"\") {\n        this.guidesTable = [];\n        this.endCursor = null;\n        this.getGuidesLocal();\n        this.loadingGuides = true;\n      }\n    },\n    startDate: function (newValue) {\n      if (this.startDate > this.endDate) {\n        this.endDate = this.startDate;\n      }\n      const startDate = new Date(this.startDate);\n      const minDate = new Date(\n        startDate.getFullYear(),\n        startDate.getMonth(),\n        startDate.getDate() + 1\n      );\n      this.minEndDate = minDate;\n    }\n  },\n  methods: {\n    async getGuidesLocal(isSearch = false) {\n      this.copyGuidesSelected = [...this.copyGuidesSelected, ...this.guidesSelectToPrint]\n      if (isSearch === true) {\n        this.loadingGuides = true;\n        this.guidesTable = [];\n        this.endCursor = null;\n      }\n      this.loadingMore = true;\n      try {\n        const response = await this.$apollo.query({\n          query: LIST_GUIDES_LOCAL,\n          variables: {\n            after: this.endCursor,\n            guideNumber: this.searchGuide,\n            status: \"CRE\",\n            createdGte:\n              this.startDate !== null ? new Date(this.startDate) : null,\n            createdLte: this.endDate !== null ? new Date(this.endDate) : null,\n          },\n        });\n        const { guidesLocal } = response.data;\n        if (guidesLocal === null) {\n          this.loadingGuides = false;\n          this.loadingMore = false;\n          return toast(\"error\", \"No se pudo recuperar la información\");\n        }\n        const data = guidesLocal.edges;\n        this.hasNextPage = guidesLocal.pageInfo.hasNextPage;\n        this.endCursor = guidesLocal.pageInfo.endCursor;\n        this.formatDataTable(data);\n        this.dataApi = [...this.dataApi, ...data];\n        this.loadingGuides = false;\n        this.loadingMore = false;\n        this.selectRowTable()\n        return true;\n      } catch (error) {\n        this.loadingGuides = false;\n        this.loadingMore = false;\n        return toast(\"error\", \"Error al recuperar la información\");\n      }\n    },\n    formatDataTable(data) {\n      for (let item of data) {\n        const tempDataTable = {\n          guideNumber: item.node.guideNumber,\n          store: item.node.store.name,\n          status: item.node.status,\n          products: this.sumQuantityProducts(\n            item.node.guidelocalproductthroughSet.edges\n          ),\n          user: `${item.node.userCreated.firstName} ${item.node.userCreated.lastName}`,\n          created: formatDateShort(item.node.created, true),\n        };\n        const tempDataDetail = {\n          guideNumber: item.node.guideNumber,\n          products: item.node.guidelocalproductthroughSet.edges,\n          created: formatDate(item.node.created, true),\n        };\n        this.guidesTable.push(tempDataTable);\n        this.guidesDetail.push(tempDataDetail);\n      }\n    },\n    sumQuantityProducts(data) {\n      let count = 0;\n      for (let item of data) {\n        count += item.node.quantity;\n      }\n      return count;\n    },\n    searchGuideLocal(guideNumber) {\n      const index = this.guidesDetail.findIndex(\n        (guide) => guide.guideNumber === guideNumber\n      );\n      if (index !== -1) {\n        this.guideLocalSelect = this.guidesDetail[index];\n      }\n    },\n    formatPriceString(value) {\n      return formatPrice(value);\n    },\n    clearDates() {\n      this.startDate = null;\n      this.endDate = null;\n      this.guidesTable = [];\n      this.endCursor = null;\n      this.hasNextPage = null;\n      this.loadingGuides = true;\n      this.getGuidesLocal();\n    },\n    getStatusGuideLocal(statusAbreviate) {\n      const status = {\n        ENT: \"Entregado\",\n        CAN: \"Cancelado\",\n        CRE: \"Creado\",\n        DES: \"En despacho\",\n        ANU: \"Anulado\",\n      };\n      return status[statusAbreviate];\n    },\n    onRowSelected(items) {\n      this.guidesSelectToPrint = [...items.map((guide) => {\n        const index = this.guidesTable.findIndex(g => g.guideNumber === guide.guideNumber)\n        return {\n          guideNumber: guide.guideNumber,\n          index: index\n        }\n      })]\n    },\n    formatDataToPrint(){\n      const data = []\n      const formatArrayProducts = ( products ) =>{\n        const productsArray = []\n        for(let item of products){\n          const temp = {\n            name: item.node.product.name,\n            price: item.node.price,\n            quantity: item.node.quantity,\n            productObservations: item.node.productObservations\n          }\n          productsArray.push(temp)\n        }\n        return productsArray\n      }\n      \n      for(let guide of this.guidesSelectToPrint){\n        const _guide = this.dataApi.find(( g ) => g.node.guideNumber === guide.guideNumber)\n        const temp = {\n          guideNumber: _guide.node.guideNumber,\n          destinatario: {\n            name: _guide.node.name,\n            phoneNumber: _guide.node.phoneNumber,\n            address: _guide.node.address,\n            city: _guide.node.city,\n            customerAnnotations: _guide.node.customerAnnotations\n          },\n          remitente: {\n            name: _guide.node.store.name,\n            phoneNumber: _guide.node.store.phoneNumber,\n            email: _guide.node.store.email\n          },\n          description: formatArrayProducts(_guide.node.guidelocalproductthroughSet.edges)\n        }\n        data.push(temp)\n      }\n      return data\n    },\n    selectRowTable(){\n      for(let item of this.copyGuidesSelected){\n        this.$nextTick( () => {\n          const table = this.$refs.selectableTable\n          table.selectRow(item.index)\n\n        })\n      }\n    },\n    clearData(){\n      this.guidesSelectToPrint = []\n      this.copyGuidesSelected = []\n      this.guidesTable = []\n      this.guides = []\n      this.dataApi = []\n      this.endCursor = null\n      this.loadingGuides = true\n      this.getGuidesLocal()\n    }\n  },\n  computed: {\n    lengthSelectGuides(){\n      return this.guidesSelectToPrint.length < this.limitGuidesToPrint\n    }\n  },\n  beforeMount() {\n    this.getGuidesLocal();\n  },\n};\n</script>\n<style scoped>\n.text_right {\n  text-align: right;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MasivePrint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MasivePrint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MasivePrint.vue?vue&type=template&id=3414b81e&scoped=true&\"\nimport script from \"./MasivePrint.vue?vue&type=script&lang=js&\"\nexport * from \"./MasivePrint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MasivePrint.vue?vue&type=style&index=0&id=3414b81e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3414b81e\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/print.53fbe84a.png\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('vue-html2pdf',{ref:\"html2Pdf\",attrs:{\"show-layout\":false,\"enable-download\":true,\"preview-modal\":false,\"pdf-quality\":2,\"manual-pagination\":true,\"pdf-format\":\"a6\",\"pdf-orientation\":\"portrait\",\"pdf-content-width\":\"800px\"},on:{\"progress\":function($event){return _vm.onProgress($event)},\"hasDownloaded\":function($event){return _vm.hasDownloaded($event)}}},[_c('section',{attrs:{\"slot\":\"pdf-content\"},slot:\"pdf-content\"},_vm._l((_vm.guides),function(guide,index){return _c('div',{key:index,staticClass:\"page-width\"},[_c('section',{staticClass:\"header\",attrs:{\"id\":\"header\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"@/assets/images/logo-black.png\"),\"alt\":\"...\"}})]),_c('div',{staticClass:\"col-md-6\"},[_c('barcode',{attrs:{\"value\":guide.guideNumber,\"display-value\":false,\"format\":\"\",\"width\":\"1\",\"height\":\"45\"}})],1)])]),_c('div',{staticClass:\"divider\"}),_c('section',{attrs:{\"id\":\"number-guide\"}},[_c('h4',{staticClass:\"text-center text-bold\"},[_vm._v(_vm._s(guide.guideNumber))])]),_c('div',{staticClass:\"divider\"}),_c('section',{attrs:{\"id\":\"remitente\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('h6',{staticClass:\"text-bold\"},[_vm._v(\"Remitente:\")]),_c('p',{staticClass:\"m-0 p-0 small-text\"},[_vm._v(_vm._s(guide.remitente.name))]),_c('p',{staticClass:\"m-0 p-0 small-text\"},[_vm._v(_vm._s(guide.remitente.email))]),_c('p',{staticClass:\"m-0 p-0 small-text\"},[_vm._v(\" \"+_vm._s(guide.remitente.phoneNumber)+\" \")])])])]),_c('div',{staticClass:\"divider\"}),_c('section',{attrs:{\"id\":\"destinatario\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('h6',{staticClass:\"text-bold\"},[_vm._v(\"Destinatario:\")]),_c('p',{staticClass:\"m-0 p-0 small-text\"},[_vm._v(\" \"+_vm._s(guide.destinatario.name)+\" \")]),_c('p',{staticClass:\"m-0 p-0 small-text\"},[_vm._v(\" \"+_vm._s(guide.destinatario.phoneNumber)+\" \")]),_c('p',{staticClass:\"m-0 p-0 small-text\"},[_vm._v(\" \"+_vm._s(guide.destinatario.address)+\" \")]),_c('p',{staticClass:\"m-0 p-0 small-text\"},[_vm._v(\" \"+_vm._s(guide.destinatario.city)+\" \")]),_c('p',{staticClass:\"m-0 p-0 small-text\"},[_vm._v(\" \"+_vm._s(guide.destinatario.customerAnnotations)+\" \")])])])]),_c('div',{staticClass:\"divider\"}),_c('section',{attrs:{\"id\":\"description\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('h6',{staticClass:\"m-0\"},[_vm._v(\"Descripción:\")]),_c('p',{staticClass:\"p-0 m-0 small-text\"},[_vm._v(_vm._s(_vm.textDescription(guide.description)))])])])]),_c('section',{attrs:{\"id\":\"total\"}},[_c('h4',{staticClass:\"text-bold text-center total\"},[_vm._v(\" Valor a cobrar \"+_vm._s(_vm.calculateTotalGuide(guide.description))+\" \")])]),(_vm.guides.length > 1)?_c('div',{staticClass:\"html2pdf__page-break\"}):_vm._e()])}),0)]),_c('div',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-success\",attrs:{\"disabled\":_vm.creating},on:{\"click\":_vm.generateReport}},[(_vm.creating)?[_c('b-spinner',{attrs:{\"small\":\"\"}}),_vm._v(\" Cargando... \")]:[_vm._v(\"Generar PDF\")]],2)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <vue-html2pdf\n      :show-layout=\"false\"\n      :enable-download=\"true\"\n      :preview-modal=\"false\"\n      :pdf-quality=\"2\"\n      :manual-pagination=\"true\"\n      pdf-format=\"a6\"\n      pdf-orientation=\"portrait\"\n      pdf-content-width=\"800px\"\n      @progress=\"onProgress($event)\"\n      @hasDownloaded=\"hasDownloaded($event)\"\n      ref=\"html2Pdf\"\n    >\n      <section slot=\"pdf-content\">\n        <div \n          class=\"page-width\"\n          v-for=\"(guide, index) in guides\" :key=\"index\"\n        >\n            <section id=\"header\" class=\"header\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <img\n                    src=\"@/assets/images/logo-black.png\"\n                    class=\"logo\"\n                    alt=\"...\"\n                  />\n                </div>\n                <div class=\"col-md-6\">\n                  <barcode\n                    :value=\"guide.guideNumber\"\n                    :display-value=\"false\"\n                    format=\"\"\n                    width=\"1\"\n                    height=\"45\"\n                  ></barcode>\n                </div>\n              </div>\n            </section>\n            <div class=\"divider\"></div>\n            <section id=\"number-guide\">\n              <h4 class=\"text-center text-bold\">{{ guide.guideNumber }}</h4>\n            </section>\n            <div class=\"divider\"></div>\n            <section id=\"remitente\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <h6 class=\"text-bold\">Remitente:</h6>\n                  <p class=\"m-0 p-0 small-text\">{{ guide.remitente.name }}</p>\n                  <p class=\"m-0 p-0 small-text\">{{ guide.remitente.email }}</p>\n                  <p class=\"m-0 p-0 small-text\">\n                    {{ guide.remitente.phoneNumber }}\n                  </p>\n                </div>\n              </div>\n            </section>\n            <div class=\"divider\"></div>\n            <section id=\"destinatario\">\n              <div class=\"row\">\n                <div class=\"col-md-12\">\n                  <h6 class=\"text-bold\">Destinatario:</h6>\n                  <p class=\"m-0 p-0 small-text\">\n                    {{ guide.destinatario.name }}\n                  </p>\n                  <p class=\"m-0 p-0 small-text\">\n                    {{ guide.destinatario.phoneNumber }}\n                  </p>\n                  <p class=\"m-0 p-0 small-text\">\n                    {{ guide.destinatario.address }}\n                  </p>\n                  <p class=\"m-0 p-0 small-text\">\n                    {{ guide.destinatario.city }}\n                  </p>\n                  <p class=\"m-0 p-0 small-text\">\n                    {{ guide.destinatario.customerAnnotations }}\n                  </p>\n                </div>\n              </div>\n            </section>\n            <div class=\"divider\"></div>\n            <section id=\"description\">\n              <div class=\"row\">\n                <div class=\"col-md-12\">\n                  <h6 class=\"m-0\">Descripción:</h6>\n                  <p class=\"p-0 m-0 small-text\">{{ textDescription(guide.description) }}</p>\n                </div>\n              </div>\n            </section>\n            <section id=\"total\">\n              <h4 class=\"text-bold text-center total\">\n                Valor a cobrar {{ calculateTotalGuide(guide.description) }}\n              </h4>\n            </section>\n          <div class=\"html2pdf__page-break\" v-if=\"guides.length > 1\"></div>\n        </div>\n      </section>\n    </vue-html2pdf>\n    <div class=\"text-center\">\n      <button\n        class=\"btn btn-success\"\n        @click=\"generateReport\"\n        :disabled=\"creating\"\n      >\n        <template v-if=\"creating\">\n          <b-spinner small></b-spinner>\n          Cargando...\n        </template>\n        <template v-else>Generar PDF</template>\n      </button>\n    </div>\n  </div>\n</template>\n<script>\nimport VueHtml2pdf from \"vue-html2pdf\";\nimport VueBarCode from \"vue-barcode\";\nimport { formatPrice } from \"@/utils/general\";\nimport { MARK_PRINTED_GUIDE } from '@/api/graphql/mutations/guideLocal'\nimport { toast } from \"@/utils/alerts\";\n\nexport default {\n  name: \"Guide\",\n  props: {\n    guides: {\n      type: Array,\n      default: [],\n    },\n  },\n  components: {\n    VueHtml2pdf,\n    barcode: VueBarCode,\n  },\n  data() {\n    return {\n      creating: false,\n    };\n  },\n  methods: {\n    async generateReport() {\n      this.creating = true;\n      const success = await this.markPrintedGuides()\n      if(!success) return toast('error')\n      this.$refs.html2Pdf.generatePdf();\n    },\n    onProgress(event) {\n      if (event === 100) {\n        this.creating = false;\n      }\n    },\n    calculateTotalGuide(products) {\n      let total = 0;\n      for (let item of products) {\n        total += parseInt(item.price);\n      }\n      return formatPrice(total, \"currency\");\n    },\n    textDescription(products) {\n      let text = \"\";\n      for (let item of products) {\n        text += `${item.name} X ${item.quantity} ${\n          item.productObservations ? item.productObservations : \"\"\n        }${products.length > 1 ? \";\" : \"\"} `;\n      }\n      return text;\n    },\n    async markPrintedGuides(){\n      try {\n        const response = await this.$apollo.mutate({\n          mutation: MARK_PRINTED_GUIDE,\n          variables: {\n            guides: this.getArrayGuides()\n          }\n        })\n        const { markPrintedGuide } = response.data\n        if (markPrintedGuide === null){\n          toast('error', 'No se pudo actualizar el estado de las guías')\n          return false\n        }\n        if(markPrintedGuide.success === false){\n          toast('error', 'No se pudo actualizar el estado de las guías')\n          return false\n        }\n        return true\n      } catch (error) {\n        toast('error', 'No se pudo actualizar el estado de las guías')\n        return false\n        \n      }\n    },\n    getArrayGuides(){\n      const guides = []\n      for (let item of this.guides){\n        guides.push(item.guideNumber)\n      }\n      return guides\n    },\n    hasDownloaded(event){\n      this.$emit('success', true)\n    }\n  },\n};\n</script>\n<style scoped>\n.page-width {\n  width: 100mm;\n  height: 148mm;\n  max-height: 148mm;\n  margin-left: 10px;\n  position: relative;\n}\n.logo {\n  max-width: 45mm;\n}\n.small-text {\n  font-size: small;\n}\n.divider {\n  border: 1px solid black;\n}\n.text-bold {\n  font-weight: bold;\n}\n.total {\n  position: absolute;\n  bottom: 5mm;\n  left: 12mm;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./guide.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./guide.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./guide.vue?vue&type=template&id=b421b45a&scoped=true&\"\nimport script from \"./guide.vue?vue&type=script&lang=js&\"\nexport * from \"./guide.vue?vue&type=script&lang=js&\"\nimport style0 from \"./guide.vue?vue&type=style&index=0&id=b421b45a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b421b45a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./guide.vue?vue&type=style&index=0&id=b421b45a&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MasivePrint.vue?vue&type=style&index=0&id=3414b81e&prod&scoped=true&lang=css&\""],"sourceRoot":""}