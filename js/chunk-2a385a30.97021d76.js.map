{"version":3,"sources":["webpack:///./node_modules/core-js/internals/delete-property-or-throw.js","webpack:///./src/api/graphql/query/guideLocal.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/router/views/guideLocal/list.vue","webpack:///./src/components/widgets/printGuideLocal.vue","webpack:///src/components/widgets/printGuideLocal.vue","webpack:///./src/components/widgets/printGuideLocal.vue?0705","webpack:///./src/components/widgets/printGuideLocal.vue?ecef","webpack:///src/router/views/guideLocal/list.vue","webpack:///./src/router/views/guideLocal/list.vue?93ff","webpack:///./src/router/views/guideLocal/list.vue?bc0a","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/components/widgets/printGuideLocal.vue?68bc","webpack:///./src/router/views/guideLocal/list.vue?10c1"],"names":["tryToString","$TypeError","TypeError","module","exports","O","P","LIST_GUIDES_LOCAL","gql","GET_GUIDE","LIST_GUIDES_LOCAL_DISPACTH","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","value","length","err","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","render","_vm","this","_c","_self","attrs","title","staticClass","maxDate","model","startDate","callback","$$v","expression","minEndDate","endDate","on","$event","getGuidesLocal","_v","directives","name","rawName","clearDates","preventDefault","searchGuide","nameDestinatario","loadingGuides","bordered","striped","guidesTable","fields","scopedSlots","_u","key","fn","item","getStatusGuideLocal","status","modifiers","searchGuideLocal","guideNumber","staticStyle","modalQuestionCancel","hasNextPage","loadingMore","guideLocalSelect","created","_l","products","index","node","product","quantity","formatPriceString","price","productObservations","staticRenderFns","ref","onProgress","items","slot","require","id","address","domProps","creating","components","VueHtml2pdf","barcode","props","type","required","data","label","limitCell","methods","generateReport","event","query","variables","createdGte","createdLte","response","guidesLocalDispatch","toast","formatData","phoneNumber","auxInfo","sumValueGuide","total","formatProductToString","text","component","PageHeader","Layout","printGuideLocal","guidesDetail","endCursor","watch","newValue","resetInfoSearch","isSearch","after","guidesLocal","formatDataTable","store","user","sumQuantityProducts","count","statusAbreviate","ENT","CAN","CRE","DES","ANU","IMP","Swal","icon","showCancelButton","confirmButtonText","confirmButtonColor","cancelButtonText","cancelButtonColor","showLoaderOnConfirm","preConfirm","allowOutsideClick","allowEscapeKey","cancelGuide","mutation","revokeGuide","updateRowCancel","guide","beforeMount","$","toObject","toAbsoluteIndex","toIntegerOrInfinity","lengthOfArrayLike","doesNotExceedSafeInteger","arraySpeciesCreate","createProperty","deletePropertyOrThrow","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","max","Math","min","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","len","actualStart","argumentsLength","arguments"],"mappings":"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","file":"js/chunk-2a385a30.97021d76.js","sourcesContent":["'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n","import gql from 'graphql-tag'\n\nconst LIST_GUIDES_LOCAL = gql`query getGuideLocal($after: String, $createdGte: DateTime, $createdLte: DateTime, $guideNumber: String, $status: String, $name: String){\n    guidesLocal(after: $after, created_Date_Gte: $createdGte, created_Date_Lte: $createdLte, guideNumber_Icontains: $guideNumber, status_Iexact: $status, name_Icontains: $name){\n        pageInfo{\n            hasNextPage\n            endCursor\n            startCursor\n        }\n        edges{\n            cursor\n            node{\n                id\n                address\n                phoneNumber\n                city\n                name\n                customerAnnotations\n                guideNumber\n                store{\n                    name\n                    email\n                    phoneNumber\n                }\n                userCreated{\n                    firstName\n                    lastName\n                }\n                status\n                created\n                guidelocalproductthroughSet{\n                    edges{\n                        node{\n                            quantity\n                            product{\n                                name\n                            }\n                            price\n                            productObservations\n                        }\n                    }\n                }\n            }\n        }\n    }\n}`\n\nconst GET_GUIDE = gql`query getGuideLocal($after: String, $createdGte: DateTime, $createdLte: DateTime, $guideNumber: String, $status: String, $name: String){\n    guidesLocal(after: $after, created_Date_Gte: $createdGte, created_Date_Lte: $createdLte, guideNumber_Icontains: $guideNumber, status_Iexact: $status, name_Icontains: $name){\n        pageInfo{\n            hasNextPage\n        }\n        edges{\n            cursor\n            node{\n                guideNumber\n                guidelocalproductthroughSet{\n                    edges{\n                        node{\n                            quantity\n                            product{\n                                name\n                                sku\n                                id\n                            }\n                            price\n                            productObservations\n                        }\n                    }\n                }\n            }\n        }\n    }\n}`\n\nconst LIST_GUIDES_LOCAL_DISPACTH = gql`query getGuideLocal($createdGte: DateTime, $createdLte: DateTime, $guideNumber: String,\n    $status: String, $name: String){\n        guidesLocalDispatch(created_Date_Gte: $createdGte, created_Date_Lte: $createdLte, status_Iexact: $status, guideNumber_Icontains: $guideNumber, name_Icontains: $name){\n              pageInfo{\n                hasNextPage\n                endCursor\n                startCursor\n            }\n            edges{\n                cursor\n                node{\n                    id\n                    address\n                    city\n                    name\n                    customerAnnotations\n                    guideNumber\n                    phoneNumber\n                    store{\n                        name\n                        email\n                        phoneNumber\n                    }\n                    userCreated{\n                        firstName\n                        lastName\n                    }\n                    status\n                    created\n                    guidelocalproductthroughSet{\n                        edges{\n                            node{\n                                quantity\n                                product{\n                                    name\n                                    sku\n                                }\n                                price\n                                productObservations\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }`\n\nexport {\n    LIST_GUIDES_LOCAL,\n    GET_GUIDE,\n    LIST_GUIDES_LOCAL_DISPACTH\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('layout',[_c('page-header',{attrs:{\"title\":_vm.title}}),_c('b-card',[_c('b-card-text',[_c('b-row',[_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{staticClass:\"mb-2\"},[_c('b-form-datepicker',{attrs:{\"placeholder\":\"Fecha Inicial\",\"max\":_vm.maxDate},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-form-group',{staticClass:\"mb-2\"},[_c('b-form-datepicker',{attrs:{\"placeholder\":\"Fecha Final\",\"max\":_vm.maxDate,\"min\":_vm.minEndDate},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)],1),_c('b-col',{attrs:{\"md\":\"1\"}},[_c('b-button',{attrs:{\"disabled\":_vm.startDate !== null && _vm.endDate !== null ? false : true,\"variant\":\"success\"},on:{\"click\":function($event){return _vm.getGuidesLocal(true)}}},[_vm._v(\" Enviar \")])],1),_c('b-col',{attrs:{\"md\":\"1\"}},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.startDate && _vm.endDate),expression:\"startDate && endDate\"}],attrs:{\"variant\":\"info\"},on:{\"click\":function($event){return _vm.clearDates()}}},[_vm._v(\" Limpiar \")])],1)],1),_c('b-row',[_c('b-col',{attrs:{\"lg\":\"4\",\"md\":\"4\"}},[_c('b-form',{staticClass:\"mb-3\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('b-form-group',[_c('b-input-group',[_c('b-form-input',{attrs:{\"id\":\"input-1\",\"type\":\"text\",\"placeholder\":\"Buscar por número de guía\",\"required\":\"\"},model:{value:(_vm.searchGuide),callback:function ($$v) {_vm.searchGuide=$$v},expression:\"searchGuide\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"type\":\"submit\",\"disabled\":!_vm.searchGuide,\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.getGuidesLocal(true)}}},[_vm._v(\"Buscar\")])],1)],1)],1)],1)],1),_c('b-col',{attrs:{\"lg\":\"4\",\"md\":\"4\"}},[_c('b-form',{staticClass:\"mb-3\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('b-form-group',[_c('b-input-group',[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Buscar por destinatario\",\"required\":\"\"},model:{value:(_vm.nameDestinatario),callback:function ($$v) {_vm.nameDestinatario=$$v},expression:\"nameDestinatario\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"type\":\"submit\",\"disabled\":!_vm.nameDestinatario,\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.getGuidesLocal(true)}}},[_vm._v(\"Buscar\")])],1)],1)],1)],1)],1),(_vm.startDate && _vm.endDate)?_c('b-col',{attrs:{\"md\":\"1\",\"offset-md\":\"3\"}},[_c('print-guide-local',{attrs:{\"startDate\":_vm.startDate,\"endDate\":_vm.endDate}})],1):_vm._e()],1),(_vm.loadingGuides)?[_c('b-skeleton-table',{attrs:{\"rows\":10,\"columns\":6,\"table-props\":{ bordered: true, striped: true }}})]:[_c('div',{staticClass:\"table-responsive\"},[_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.guidesTable,\"fields\":_vm.fields,\"responsive\":\"sm\"},scopedSlots:_vm._u([{key:\"cell(status)\",fn:function({ item }){return [_vm._v(\" \"+_vm._s(_vm.getStatusGuideLocal(item.status))+\" \")]}},{key:\"cell(actions)\",fn:function({ item }){return [_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-lg\",modifiers:{\"modal-lg\":true}}],attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.searchGuideLocal(item.guideNumber)}}},[_c('i',{staticClass:\"mdi mdi-eye\"})]),_c('b-button',{staticStyle:{\"margin-left\":\"1px\"},attrs:{\"variant\":\"danger\",\"size\":\"sm\",\"disabled\":item.status === 'CAN' || item.status === 'ANU' || item.status === 'IMP' || item.status == 'DES'},on:{\"click\":function($event){return _vm.modalQuestionCancel(item.guideNumber)}}},[_c('i',{staticClass:\"mdi mdi-cancel\"})])]}}])})],1)]],2),(_vm.hasNextPage)?_c('div',{staticClass:\"text-center mt-2\"},[_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"primary\",\"disabled\":_vm.loadingMore},on:{\"click\":function($event){return _vm.getGuidesLocal()}}},[(_vm.loadingMore)?[_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\"}}),_vm._v(\" Cargando... \")]:[_vm._v(\" Ver más \")]],2)],1):_vm._e()],1),(_vm.guideLocalSelect)?_c('b-modal',{attrs:{\"id\":\"modal-lg\",\"size\":\"lg\",\"title\":`Guía Número ${_vm.guideLocalSelect.guideNumber}`,\"no-close-on-backdrop\":true,\"no-close-on-esc\":true,\"ok-only\":\"\"}},[_c('p',{staticClass:\"text_right\"},[_vm._v(_vm._s(_vm.guideLocalSelect.created))]),_c('div',{staticClass:\"text-center\"},[_c('barcode',{attrs:{\"value\":_vm.guideLocalSelect.guideNumber,\"display-value\":false,\"format\":\"\",\"width\":\"1\",\"height\":\"60\"}})],1),_c('b-row',_vm._l((_vm.guideLocalSelect.products),function(item,index){return _c('div',{key:index,staticClass:\"col-md-6\"},[_c('b-card',[_c('b-card-text',[_c('strong',[_vm._v(_vm._s(item.node.product.name)+\":\")]),_vm._v(\" \"+_vm._s(item.node.quantity)+\" uds. ($\"+_vm._s(_vm.formatPriceString(item.node.price))+\") \"),_c('p',{staticStyle:{\"font-size\":\"x-small\"}},[_vm._v(\" \"+_vm._s(item.node.productObservations)+\" \")])])],1)],1)}),0)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('vue-html2pdf',{ref:\"html2Pdf\",attrs:{\"show-layout\":false,\"float-layout\":true,\"enable-download\":true,\"preview-modal\":true,\"filename\":\"RelaciónDespacho\",\"pdf-quality\":2,\"manual-pagination\":true,\"pdf-format\":\"a4\",\"pdf-orientation\":\"landscape\",\"pdf-content-width\":\"1100px \"},on:{\"progress\":function($event){return _vm.onProgress($event)}}},_vm._l((_vm.items),function(item,index){return _c('section',{key:index,staticStyle:{\"margin-top\":\"0px\"},attrs:{\"slot\":\"pdf-content\"},slot:\"pdf-content\"},[_c('div',{staticClass:\"container-pdf\"},[_c('section',{attrs:{\"id\":\"header\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"@/assets/images/logo-black.png\"),\"alt\":\"...\"}})])])]),_c('section',{staticClass:\"text-center\",staticStyle:{\"font-size\":\"small\",\"margin\":\"2em\",\"border\":\"1px solid gray\"},attrs:{\"id\":\"body\"}},[_c('b-table',{attrs:{\"striped\":\"\",\"bordered\":\"\",\"fields\":_vm.fields,\"items\":item,\"small\":true},scopedSlots:_vm._u([{key:\"cell(id)\",fn:function({ item }){return [_c('p',[_vm._v(_vm._s(item.id))])]}},{key:\"cell(address)\",fn:function({ item }){return [_c('p',{staticStyle:{\"font-size\":\"10px\"}},[_vm._v(_vm._s(item.address))])]}},{key:\"cell(products)\",fn:function({ item }){return [_c('p',{domProps:{\"innerHTML\":_vm._s(item.products)}})]}},{key:\"cell(barCode)\",fn:function({ item }){return [_c('barcode',{attrs:{\"value\":item.guideNumber,\"display-value\":false,\"format\":\"\",\"width\":\"1\",\"height\":\"17\"}})]}}],null,true)})],1),(index !== _vm.items.length - 1)?_c('div',{staticClass:\"html2pdf__page-break\"}):_vm._e()])])}),0),_c('div',[_c('button',{staticClass:\"btn btn-success\",attrs:{\"disabled\":_vm.creating},on:{\"click\":function($event){return _vm.getGuidesLocal()}}},[(_vm.creating)?[_c('b-spinner',{attrs:{\"small\":\"\"}})]:[_c('i',{staticClass:\"mdi mdi-printer\"})]],2)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <vue-html2pdf\n      :show-layout=\"false\"\n      :float-layout=\"true\"\n      :enable-download=\"true\"\n      :preview-modal=\"true\"\n      filename=\"RelaciónDespacho\"\n      :pdf-quality=\"2\"\n      :manual-pagination=\"true\"\n      pdf-format=\"a4\"\n      pdf-orientation=\"landscape\"\n      pdf-content-width=\"1100px \"\n      @progress=\"onProgress($event)\"\n      ref=\"html2Pdf\"\n    >\n      <section \n        slot=\"pdf-content\"\n        v-for=\"(item, index) in items\"\n        :key=\"index\"\n        style=\"margin-top: 0px;\"\n      >\n      <div class=\"container-pdf\">\n        <section id=\"header\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <img\n                src=\"@/assets/images/logo-black.png\"\n                class=\"logo\"\n                alt=\"...\"\n              />\n            </div>\n          </div>\n        </section>\n        <section id=\"body\" class=\"text-center\" style=\"font-size: small; margin: 2em; border: 1px solid gray;\">\n          <b-table striped bordered :fields=\"fields\" :items=\"item\" :small=\"true\">\n            <template v-slot:cell(id)=\"{ item }\">\n              <p>{{ item.id }}</p>\n            </template>\n            <template v-slot:cell(address)=\"{ item }\">\n              <p style=\"font-size: 10px; !important\">{{ item.address }}</p>\n            </template>\n            <template v-slot:cell(products)=\"{ item }\">\n              <p v-html=\"item.products\"></p>\n            </template>\n            <template v-slot:cell(barCode)=\"{ item }\">\n              <barcode\n                :value=\"item.guideNumber\"\n                :display-value=\"false\"\n                format=\"\"\n                width=\"1\"\n                height=\"17\"\n              ></barcode> \n            </template\n          ></b-table>\n        </section>\n      <div class=\"html2pdf__page-break\" v-if=\"index !== items.length - 1\"></div>\n      </div>\n      </section>\n    </vue-html2pdf>\n    <div>\n      <button\n        class=\"btn btn-success\"\n        @click=\"getGuidesLocal()\"\n        :disabled=\"creating\"\n      >\n        <template v-if=\"creating\">\n          <b-spinner small></b-spinner>\n        </template>\n        <template v-else>\n          <i class=\"mdi mdi-printer\"></i>\n        </template>\n      </button>\n    </div>\n  </div>\n</template>\n<script>\nimport VueHtml2pdf from \"vue-html2pdf\";\nimport { LIST_GUIDES_LOCAL_DISPACTH } from \"@/api/graphql/query/guideLocal\";\nimport { toast } from \"@/utils/alerts\";\nimport { formatPrice } from \"@/utils/general\";\nimport VueBarCode from \"vue-barcode\";\n\nexport default {\n  components: {\n    VueHtml2pdf,\n    barcode: VueBarCode\n  },\n  props: {\n    startDate: {\n      type: String,\n      required: true\n    },\n    endDate: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      creating: false,\n      fields: [\n        {\n          key: 'id',\n          label: '#'\n        },\n        {\n          key: \"guideNumber\",\n          label: \"Nº Guía\",\n        },\n        {\n          key: \"name\",\n          label: \"Destinatario\",\n        },\n        {\n          key: \"phoneNumber\",\n          label: \"Celular\",\n        },\n        {\n          key: \"address\",\n          label: \"Dirección\",\n        },\n        {\n          key: \"products\",\n          label: \"Producto\",\n        },\n        {\n          key: \"value\",\n          label: \"Valor\",\n        },\n        {\n          key: \"barCode\",\n          label: \"Código barras\",\n        },\n      ],\n      items: [],\n      limitCell: 5\n    };\n  },\n  methods: {\n    generateReport() {\n      this.$refs.html2Pdf.generatePdf();\n    },\n    onProgress(event) {\n      if (event === 100) {\n        this.creating = false;\n        this.items = []\n      }\n    },\n    async getGuidesLocal() {\n      this.creating = true;\n      try {\n        const response = await this.$apollo.query({\n          query: LIST_GUIDES_LOCAL_DISPACTH,\n          variables: {\n            status: \"DES\",\n            createdGte: new Date(this.startDate),\n            createdLte: new Date(this.endDate)\n          },\n        });\n        const { guidesLocalDispatch } = response.data;\n        if (guidesLocalDispatch === null) {\n          return toast(\"error\", \"No se pudo recuperar la información\");\n        }\n        const data = guidesLocalDispatch.edges;\n        this.formatData(data);\n        this.generateReport()\n        return true;\n      } catch (error) {\n        this.creating = false\n        return toast(\"error\", \"No se pudo recuperar la información\");\n      }\n    },\n    formatData(data) {\n      let auxInfo = [];\n      for (let [index, item] of data.entries()) {\n        const temp = {\n          id: index + 1, \n          address: item.node.address,\n          products: this.formatProductToString(item.node.guidelocalproductthroughSet.edges),\n          name: item.node.name,\n          guideNumber: item.node.guideNumber,\n          phoneNumber: item.node.phoneNumber,\n          value: `$${formatPrice(\n            this.sumValueGuide(item.node.guidelocalproductthroughSet.edges)\n          )}`,\n        };\n        if(auxInfo.length < this.limitCell){\n          auxInfo.push(temp)\n          if(index === data.length - 1){\n            this.items.push(auxInfo)\n          }\n        }\n        else{\n          this.items.push(auxInfo)\n          auxInfo = []\n          auxInfo.push(temp)\n          if(index === data.length - 1){\n            this.items.push(auxInfo)\n          }\n          index++\n        }\n      }\n    },\n    sumValueGuide(data) {\n      let total = 0;\n      for (let item of data) {\n        total += item.node.price;\n      }\n      return total;\n    },\n    formatProductToString(data){\n      let text = '<ul style=\"padding: 0; margin-left: 10px; list-style: none;\">'\n      for (let item of data){\n        text += `<li>${item.node.product.name} X ${item.node.quantity}</li>`\n      }\n      text += '</ul>'\n      return text\n    }\n  }\n};\n</script>\n<style scoped>\n.logo{\n  max-width: 40mm;\n  margin: 2em;\n}\n.container-pdf{\n  height: 210mm;\n  max-height: 210mm;\n  width: 297mm;\n  max-width: 297mm;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./printGuideLocal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./printGuideLocal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./printGuideLocal.vue?vue&type=template&id=609e9665&scoped=true&\"\nimport script from \"./printGuideLocal.vue?vue&type=script&lang=js&\"\nexport * from \"./printGuideLocal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./printGuideLocal.vue?vue&type=style&index=0&id=609e9665&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"609e9665\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <layout>\n    <page-header :title=\"title\"></page-header>\n    <b-card>\n      <b-card-text>\n        <b-row>\n          <b-col md=\"4\">\n            <b-form-group class=\"mb-2\">\n              <b-form-datepicker\n                v-model=\"startDate\"\n                placeholder=\"Fecha Inicial\"\n                :max=\"maxDate\"\n              >\n              </b-form-datepicker>\n            </b-form-group>\n          </b-col>\n          <b-col md=\"4\">\n            <b-form-group class=\"mb-2\">\n              <b-form-datepicker\n                v-model=\"endDate\"\n                placeholder=\"Fecha Final\"\n                :max=\"maxDate\"\n                :min=\"minEndDate\"\n              >\n              </b-form-datepicker>\n            </b-form-group>\n          </b-col>\n          <b-col md=\"1\">\n            <b-button\n              :disabled=\"startDate !== null && endDate !== null ? false : true\"\n              @click=\"getGuidesLocal(true)\"\n              variant=\"success\"\n            >\n              Enviar\n            </b-button>\n          </b-col>\n          <b-col md=\"1\">\n            <b-button\n              v-show=\"startDate && endDate\"\n              @click=\"clearDates()\"\n              variant=\"info\"\n            >\n              Limpiar\n            </b-button>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-col lg=\"4\" md=\"4\">\n            <b-form @submit.prevent class=\"mb-3\">\n              <b-form-group>\n                <b-input-group>\n                  <b-form-input\n                    id=\"input-1\"\n                    v-model=\"searchGuide\"\n                    type=\"text\"\n                    placeholder=\"Buscar por número de guía\"\n                    required\n                  ></b-form-input>\n                  <b-input-group-append>\n                    <b-button\n                      type=\"submit\"\n                      :disabled=\"!searchGuide\"\n                      @click=\"getGuidesLocal(true)\"\n                      variant=\"warning\"\n                      >Buscar</b-button\n                    >\n                  </b-input-group-append>\n                </b-input-group>\n              </b-form-group>\n            </b-form>\n          </b-col>\n          <b-col lg=\"4\" md=\"4\">\n            <b-form @submit.prevent class=\"mb-3\">\n              <b-form-group>\n                <b-input-group>\n                  <b-form-input\n                    v-model=\"nameDestinatario\"\n                    type=\"text\"\n                    placeholder=\"Buscar por destinatario\"\n                    required\n                  ></b-form-input>\n                  <b-input-group-append>\n                    <b-button\n                      type=\"submit\"\n                      :disabled=\"!nameDestinatario\"\n                      @click=\"getGuidesLocal(true)\"\n                      variant=\"warning\"\n                      >Buscar</b-button\n                    >\n                  </b-input-group-append>\n                </b-input-group>\n              </b-form-group>\n            </b-form>\n          </b-col>\n          <b-col md=\"1\" offset-md=\"3\" v-if=\"startDate && endDate\">\n            <print-guide-local\n              :startDate=\"startDate\"\n              :endDate=\"endDate\"\n            ></print-guide-local>\n          </b-col>\n        </b-row>\n        <template v-if=\"loadingGuides\">\n          <b-skeleton-table\n            :rows=\"10\"\n            :columns=\"6\"\n            :table-props=\"{ bordered: true, striped: true }\"\n          ></b-skeleton-table>\n        </template>\n        <template v-else>\n          <div class=\"table-responsive\">\n            <b-table\n              striped\n              hover\n              :items=\"guidesTable\"\n              :fields=\"fields\"\n              responsive=\"sm\"\n            >\n              <template v-slot:cell(status)=\"{ item }\">\n                {{ getStatusGuideLocal(item.status) }}\n              </template>\n              <template v-slot:cell(actions)=\"{ item }\">\n                <b-button\n                  @click=\"searchGuideLocal(item.guideNumber)\"\n                  v-b-modal.modal-lg\n                  variant=\"primary\"\n                  size=\"sm\"\n                >\n                  <i class=\"mdi mdi-eye\"></i>\n                </b-button>\n                <b-button\n                  style=\"margin-left: 1px;\"\n                  variant=\"danger\"\n                  size=\"sm\"\n                  :disabled=\"item.status === 'CAN' || item.status === 'ANU' || item.status === 'IMP' || item.status == 'DES'\"\n                  @click=\"modalQuestionCancel(item.guideNumber)\"\n                >\n                  <i class=\"mdi mdi-cancel\"></i>\n                </b-button>\n              </template>\n            </b-table>\n          </div>\n        </template>\n      </b-card-text>\n      <div class=\"text-center mt-2\" v-if=\"hasNextPage\">\n        <b-button\n          block\n          @click=\"getGuidesLocal()\"\n          variant=\"primary\"\n          :disabled=\"loadingMore\"\n        >\n          <template v-if=\"loadingMore\">\n            <b-spinner small type=\"grow\"></b-spinner>\n            Cargando...\n          </template>\n          <template v-else> Ver más </template>\n        </b-button>\n      </div>\n    </b-card>\n    <b-modal\n      v-if=\"guideLocalSelect\"\n      id=\"modal-lg\"\n      size=\"lg\"\n      :title=\"`Guía Número ${guideLocalSelect.guideNumber}`\"\n      :no-close-on-backdrop=\"true\"\n      :no-close-on-esc=\"true\"\n      ok-only\n    >\n      <p class=\"text_right\">{{ guideLocalSelect.created }}</p>\n      <div class=\"text-center\">\n        <barcode\n          :value=\"guideLocalSelect.guideNumber\"\n          :display-value=\"false\"\n          format=\"\"\n          width=\"1\"\n          height=\"60\"\n        ></barcode>\n      </div>\n      <b-row>\n        <div\n          class=\"col-md-6\"\n          v-for=\"(item, index) in guideLocalSelect.products\"\n          :key=\"index\"\n        >\n          <b-card>\n            <b-card-text>\n              <strong>{{ item.node.product.name }}:</strong>\n              {{ item.node.quantity }} uds. (${{\n                formatPriceString(item.node.price)\n              }})\n              <p style=\"font-size: x-small\">\n                {{ item.node.productObservations }}\n              </p>\n            </b-card-text>\n          </b-card>\n        </div>\n      </b-row>\n    </b-modal>\n  </layout>\n</template>\n<script>\nimport Layout from \"@/router/layouts/main\";\nimport PageHeader from \"@/components/page-header\";\nimport { LIST_GUIDES_LOCAL } from \"@/api/graphql/query/guideLocal\";\nimport { REVOKE_GUIDE } from '@/api/graphql/mutations/guideLocal'\nimport { toast } from \"@/utils/alerts\";\nimport { formatDate, formatPrice, formatDateShort, decode_bs64 } from \"@/utils/general\";\nimport VueBarCode from \"vue-barcode\";\nimport printGuideLocal from \"@/components/widgets/printGuideLocal.vue\";\nimport Swal from 'sweetalert2'\n\nexport default {\n  name: \"ListGuides\",\n  components: {\n    PageHeader,\n    Layout,\n    barcode: VueBarCode,\n    printGuideLocal,\n  },\n  data() {\n    const now = new Date();\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n    return {\n      title: \"Guías locales\",\n      loadingGuides: true,\n      hasNextPage: false,\n      loadingMore: false,\n      fields: [\n        {\n          key: 'id',\n          label: 'ID'\n        },\n        {\n          key: \"guideNumber\",\n          label: \"Guía\",\n        },\n        {\n          key: \"name\",\n          label: \"Destinatario\"\n        },\n        {\n          key: \"status\",\n          label: \"Estado\",\n        },\n        {\n          key: \"store\",\n          label: \"Tienda\",\n        },\n        {\n          key: \"products\",\n          label: \"Productos\",\n        },\n        {\n          key: 'user',\n          label: 'Usuario'\n        },\n        {\n          key: \"created\",\n          label: \"Fecha creación\",\n        },\n        {\n          key: \"actions\",\n          label: \"Acciones\",\n        },\n      ],\n      guidesTable: [],\n      guidesDetail: [],\n      guideLocalSelect: null,\n      endCursor: null,\n      searchGuide: null,\n      startDate: null,\n      endDate: null,\n      maxDate: today,\n      minEndDate: null,\n      nameDestinatario: null\n    };\n  },\n  watch: {\n    searchGuide: function (newValue) {\n      if (newValue === \"\") {\n        this.resetInfoSearch()\n      }\n    },\n    startDate: function (newValue) {\n      if (this.startDate > this.endDate) {\n        this.endDate = this.startDate;\n      }\n      const startDate = new Date(this.startDate);\n      const minDate = new Date(\n        startDate.getFullYear(),\n        startDate.getMonth(),\n        startDate.getDate() + 1\n      );\n      this.minEndDate = minDate;\n    },\n    nameDestinatario(newValue){\n      if(newValue === \"\"){\n        this.resetInfoSearch()\n      }\n    }\n  },\n  methods: {\n    resetInfoSearch(){\n      this.guidesTable = [];\n      this.endCursor = null;\n      this.loadingGuides = true;\n      this.getGuidesLocal();\n    },\n    async getGuidesLocal(isSearch = false) {\n      if (isSearch === true) {\n        this.loadingGuides = true;\n        this.guidesTable = [];\n        this.endCursor = null;\n      }\n      this.loadingMore = true;\n      try {\n        const response = await this.$apollo.query({\n          query: LIST_GUIDES_LOCAL,\n          variables: {\n            after: this.endCursor,\n            guideNumber: this.searchGuide,\n            createdGte:\n              this.startDate !== null ? new Date(this.startDate) : null,\n            createdLte: this.endDate !== null ? new Date(this.endDate) : null,\n            name: this.nameDestinatario\n          },\n        });\n        const { guidesLocal } = response.data;\n        if (guidesLocal === null) {\n          this.loadingGuides = false;\n          this.loadingMore = false;\n          return toast(\"error\", \"No se pudo recuperar la información\");\n        }\n        const data = guidesLocal.edges;\n        this.hasNextPage = guidesLocal.pageInfo.hasNextPage;\n        this.endCursor = guidesLocal.pageInfo.endCursor;\n        this.formatDataTable(data);\n        this.loadingGuides = false;\n        this.loadingMore = false;\n        return true;\n      } catch (error) {\n        this.loadingGuides = false;\n        this.loadingMore = false;\n        return toast(\"error\", \"Error al recuperar la información\");\n      }\n    },\n    formatDataTable(data) {\n      for (let item of data) {\n        const tempDataTable = {\n          id: decode_bs64(item.node.id).split(':')[1],\n          guideNumber: item.node.guideNumber,\n          name: item.node.name,\n          store: item.node.store.name,\n          status: item.node.status,\n          products: this.sumQuantityProducts(\n            item.node.guidelocalproductthroughSet.edges\n          ),\n          user: `${item.node.userCreated.firstName} ${item.node.userCreated.lastName}`,\n          created: formatDateShort(item.node.created, true),\n        };\n        const tempDataDetail = {\n          guideNumber: item.node.guideNumber,\n          products: item.node.guidelocalproductthroughSet.edges,\n          created: formatDate(item.node.created, true)\n        };\n        this.guidesTable.push(tempDataTable);\n        this.guidesDetail.push(tempDataDetail);\n      }\n    },\n    sumQuantityProducts(data) {\n      let count = 0;\n      for (let item of data) {\n        count += item.node.quantity;\n      }\n      return count;\n    },\n    searchGuideLocal(guideNumber) {\n      const index = this.guidesDetail.findIndex(\n        (guide) => guide.guideNumber === guideNumber\n      );\n      if (index !== -1) {\n        this.guideLocalSelect = this.guidesDetail[index];\n      }\n    },\n    formatPriceString(value) {\n      return formatPrice(value);\n    },\n    clearDates() {\n      this.startDate = null;\n      this.endDate = null;\n      this.guidesTable = [];\n      this.endCursor = null;\n      this.hasNextPage = null;\n      this.loadingGuides = true;\n      this.getGuidesLocal();\n    },\n    getStatusGuideLocal(statusAbreviate) {\n      const status = {\n        ENT: \"Entregado\",\n        CAN: \"Cancelado\",\n        CRE: \"Creado\",\n        DES: \"En despacho\",\n        ANU: \"Anulado\",\n        IMP: \"Impreso\"\n      };\n      return status[statusAbreviate];\n    },\n    modalQuestionCancel(guideNumber){\n      Swal.fire({\n        title: '¿Estas seguro?',\n        text: `Anular guía Nº: \"${guideNumber}\"`,\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Si, continuar',\n        confirmButtonColor: '#bb2d3b',\n        cancelButtonText: 'No, cancelar',\n        cancelButtonColor: '',\n        showLoaderOnConfirm: true,\n        preConfirm: () => {\n          return this.cancelGuide(guideNumber)\n        },\n        allowOutsideClick: false,\n        allowEscapeKey: false\n      })\n    },\n    async cancelGuide(guideNumber){\n      try {\n        const response = await this.$apollo.mutate({\n          mutation: REVOKE_GUIDE,\n          variables: {\n            guideNumber: guideNumber\n          }\n        })\n        const { revokeGuide } = response.data\n        if( revokeGuide === null) return toast('error', 'No se pudo anular la guía.')\n        if( revokeGuide.success ){\n          this.updateRowCancel(guideNumber)\n          return toast('success', 'Guía anulada con exito.')\n        }\n      } catch (error) {\n        return toast('error', 'No se pudo anular la guía')\n      }\n    },\n    updateRowCancel(guideNumber){\n      const guideIndex = this.guidesTable.findIndex(guide => guide.guideNumber === guideNumber)\n      const guide = this.guidesTable[guideIndex]\n      const newGuide = {\n        ...guide,\n        status: 'ANU'\n      }\n      this.guidesTable.splice(guideIndex, 1, newGuide)\n    }\n  },\n  beforeMount() {\n    this.getGuidesLocal();\n  },\n};\n</script>\n<style scoped>\n.text_right{\n  text-align: right;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=16ebd102&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=16ebd102&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16ebd102\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    doesNotExceedSafeInteger(len + insertCount - actualDeleteCount);\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) deletePropertyOrThrow(O, k - 1);\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else deletePropertyOrThrow(O, to);\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./printGuideLocal.vue?vue&type=style&index=0&id=609e9665&prod&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=16ebd102&prod&scoped=true&lang=css&\""],"sourceRoot":""}